# AtomicOS v1.3.0 Release Notes

## Release Date: 2025-06-22

## Major Features

### Tempo Compiler v1.3.0 - Assignment Expressions & Enhanced Structs

This release significantly improves the Tempo programming language with full assignment expression support and proper struct field handling.

#### ğŸ¯ Assignment Expressions

The Tempo compiler now supports assignment as an expression, enabling more natural code:

```tempo
// Simple variable assignment
x = 42;

// Struct field assignment
point.x = 100;
point.y = 200;

// Array element assignment
buffer[i] = value;

// Chained assignments
a = b = c = 0;
```

#### ğŸ—ï¸ Struct Field Offset Calculation

Structs now have automatic field offset calculation with proper alignment:

```tempo
struct Point {
    x: int32,    // offset: 0
    y: int32     // offset: 4
}  // total size: 8 bytes

struct Data @packed {
    byte: int8,     // offset: 0
    word: int16,    // offset: 1 (packed, no padding)
    dword: int32    // offset: 3
}  // total size: 7 bytes
```

Features:
- Automatic offset calculation based on field types
- Support for `@packed` attribute to eliminate padding
- Proper alignment for unpacked structs
- Type information propagation for field access

#### ğŸ” Improved Type System

- Variables now carry type information throughout parsing
- Field access validates struct membership
- Better error messages for type mismatches
- Enhanced type safety for assignments

### ğŸ“š Documentation Reorganization

The entire documentation structure has been reorganized for better accessibility:

```
docs/
â”œâ”€â”€ getting-started/
â”‚   â”œâ”€â”€ installation.md
â”‚   â””â”€â”€ quick-start.md
â”œâ”€â”€ development/
â”‚   â””â”€â”€ dev-guide.md
â”œâ”€â”€ architecture/
â”‚   â””â”€â”€ overview.md
â”œâ”€â”€ tempo/
â”‚   â””â”€â”€ README.md
â””â”€â”€ releases/
    â”œâ”€â”€ v1.0.0.md
    â”œâ”€â”€ v1.1.0.md
    â”œâ”€â”€ v1.2.0.md
    â”œâ”€â”€ v1.2.1.md
    â”œâ”€â”€ v1.2.2.md
    â””â”€â”€ v1.3.0.md
```

New comprehensive guides include:
- **Installation Guide**: Step-by-step setup for all platforms
- **Quick Start Guide**: Get coding with AtomicOS in minutes
- **Developer Guide**: Complete development workflow and standards
- **Architecture Overview**: Deep dive into system design

### Technical Improvements

#### Compiler Architecture
- Enhanced AST node handling for assignments
- Proper lvalue validation (identifiers, field access, array indexing)
- Improved code generation for complex expressions
- Better symbol table management

#### Code Generation
- Efficient assembly generation for struct field access
- Proper address calculation for nested structures
- Optimized assignment operations
- Support for assignment expressions as rvalues

## Breaking Changes

None. This release maintains backward compatibility with existing Tempo code.

## Bug Fixes

- Fixed struct field access to use calculated offsets instead of hardcoded values
- Type information now properly attached to identifier nodes during parsing
- Assignment to struct fields generates correct assembly code
- Field type information correctly propagated through expressions

## Known Issues

- Variables must be declared before use in struct field assignments (requires semantic analysis phase)
- Some complex example files still have syntax compatibility issues
- Nested struct field access needs additional testing

## Migration Guide

No migration needed. Existing code continues to work, and you can now use the new assignment expressions:

Before (v1.2.x):
```tempo
let x = 10;
let y = 20;
// No way to reassign after declaration
```

After (v1.3.0):
```tempo
let x = 10;
let y = 20;
x = 30;  // Now supported!
y = x + 10;
```

## Examples

### Struct Usage
```tempo
struct Rectangle {
    x: int32,
    y: int32,
    width: int32,
    height: int32
}

function move_rect(rect: ptr<Rectangle>, dx: int32, dy: int32) {
    rect->x = rect->x + dx;
    rect->y = rect->y + dy;
}
```

### Hardware Programming
```tempo
struct VGAChar {
    char: int8,
    attr: int8
}

function write_vga(pos: int32, ch: int8, color: int8) {
    let vga = 0xB8000 as ptr<VGAChar>;
    vga[pos].char = ch;
    vga[pos].attr = color;
}
```

## Downloads

- Source: [GitHub Repository](https://github.com/ipenas-cl/AtomicOS)
- Release: [v1.3.0 Tag](https://github.com/ipenas-cl/AtomicOS/releases/tag/v1.3.0)

## What's Next

### v1.4.0 Roadmap
- Semantic analysis phase for better type checking
- Complete struct support (nested structs, unions)
- Enhanced pointer arithmetic
- Module system improvements
- More C module conversions to Tempo

## Contributors

Thank you to everyone who contributed to this release through bug reports, testing, and feedback.

---
**Security First, Stability Second, Performance Third**